# ๐ ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ - ุฎุทูุฉ ุจุฎุทูุฉ

## โ ุชุฃููุฏ: ุงูู Endpoint ููุฌูุฏ ูู ุงูููุฏ

ุงูู endpoint ููุฌูุฏ: `POST /uploads/image` ูู `src/uploads/uploads.controller.ts`

---

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### 1๏ธโฃ ุงูุชุญูู ูู ุฃู ุงูู Endpoint ูุนูู

**ุฌุฑุจ ูุฐุง ูู Postman:**

```
POST https://api.deutsch-tests.com/uploads/image
Authorization: Bearer YOUR_TOKEN
```

**ุฅุฐุง ุญุตูุช ุนูู:**
- โ `201 Created` โ ุงูู endpoint ูุนูู
- โ `404 Not Found` โ ุงูู endpoint ุบูุฑ ููุฌูุฏ ุนูู ุงูุณูุฑูุฑ (ุงูููุฏ ูู ูููุดุฑ)
- โ `401 Unauthorized` โ ูุดููุฉ ูู ุงูู token
- โ `403 Forbidden` โ ููุณ ูุฏูู ุตูุงุญูุงุช (teacher/admin)

---

### 2๏ธโฃ ุฅุฐุง ูุงู 404 โ ุงูููุฏ ูู ูููุดุฑ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ุงูููุฏ ููุฌูุฏ ูู GitHub
2. ุชุฃูุฏ ูู ุฃู Railway/Render ูุนูู Redeploy
3. ุฃู ุงุฑูุน ุงูููุฏ ูุฏููุงู

---

### 3๏ธโฃ ุฅุฐุง ูุงู 401/403 โ ูุดููุฉ ูู Authentication

**ุงูุญู:**
1. ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู:
   ```
   POST https://api.deutsch-tests.com/auth/login
   {
     "email": "teacher@deutsch-tests.com",
     "password": "your-password"
   }
   ```
2. ุงูุณุฎ `accessToken` ุงูุฌุฏูุฏ
3. ุงุณุชุฎุฏูู ูู Header:
   ```
   Authorization: Bearer NEW_TOKEN
   ```

---

### 4๏ธโฃ ุฑูุน ุงูุตูุฑุฉ

**Postman:**
- Method: `POST`
- URL: `https://api.deutsch-tests.com/uploads/image`
- Headers:
  - `Authorization: Bearer YOUR_TOKEN`
- Body โ **form-data**:
  - Key: `file` (ุงุฎุชุฑ type: **File**)
  - Value: ุงุฎุชุฑ ุงูุตูุฑุฉ

**Send** โ ูุฌุจ ุฃู ุชุฑู:
```json
{
  "imageUrl": "https://api.deutsch-tests.com/uploads/images/questions/ุณุคุงู21ุนุงู.jpeg",
  "filename": "ุณุคุงู21ุนุงู.jpeg",
  "mime": "image/jpeg"
}
```

---

### 5๏ธโฃ ุงูุชุญูู ูู ุงูุตูุฑุฉ

**ุงูุชุญ ูู ุงููุชุตูุญ:**
```
https://api.deutsch-tests.com/uploads/images/questions/ุณุคุงู21ุนุงู.jpeg
```

**ุฅุฐุง ุธูุฑุช ุงูุตูุฑุฉ โ โ ูุฌุญ!**

---

## ๐ ุงููุดุงูู ุงูุดุงุฆุนุฉ

### โ ุฎุทุฃ 404 ุนูุฏ ุงููุตูู ููุตูุฑุฉ ุจุนุฏ ุงูุฑูุน

**ุงูุณุจุจ:** ุงูุตูุฑุฉ ูู ุชูุฑูุน ุจูุฌุงุญ ุฃู ูู ููุงู ุฎุงุทุฆ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ุงูู response ูุงู `201 Created`
2. ุชุฃูุฏ ูู ุฃู `imageUrl` ูู ุงูู response ุตุญูุญ
3. ุชุญูู ูู logs ุงูุณูุฑูุฑ (Railway/Render)

---

### โ ุฎุทุฃ "Only image files are allowed"

**ุงูุณุจุจ:** ุงูููู ููุณ ุตูุฑุฉ ุฃู extension ุบูุฑ ูุฏุนูู

**ุงูุญู:** ุชุฃูุฏ ูู ุฃู ุงูููู:
- `.jpg` ุฃู `.jpeg` ุฃู `.png` ุฃู `.gif` ุฃู `.webp`
- ุญุฌูู ุฃูู ูู 10MB

---

### โ ุงูุตูุฑุฉ ุชุฑูุน ููู ูุง ุชุธูุฑ

**ุงูุณุจุจ:** ูุดููุฉ ูู static file serving

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู `ServeStaticModule` ูุนูู
2. ุชุฃูุฏ ูู ุฃู ุงููุณุงุฑ ุตุญูุญ: `/app/uploads/images/questions/`
3. ุชุญูู ูู logs ุงูุณูุฑูุฑ

---

## ๐ Checklist

- [ ] ุงูู endpoint ููุฌูุฏ ูู ุงูููุฏ โ
- [ ] JWT Token ุตุงูุญ
- [ ] ุงูู request ูุฑุณู `file` ูู form-data
- [ ] ุงูู response ูู `201 Created`
- [ ] ุงูุตูุฑุฉ ุชุธูุฑ ูู ุงููุชุตูุญ

---

## ๐ ุฅุฐุง ูู ุดูุก ูุดู

**ุงูุญู ุงูุจุฏูู: ุฑูุน ูุฏูู ุนูู ุงูุณูุฑูุฑ**

1. ุงุณุชุฎุฏู Railway CLI ุฃู SSH
2. ุงุฑูุน ุงููููุงุช ูุจุงุดุฑุฉ:
   ```bash
   # ูู Railway Shell
   mkdir -p /app/uploads/images/questions
   # ุซู ุงุฑูุน ุงููููุงุช ูุฏููุงู
   ```

ุฃู ุงุณุชุฎุฏู S3/Cloudinary (ุงูุญู ุงูููุงุฆู).






